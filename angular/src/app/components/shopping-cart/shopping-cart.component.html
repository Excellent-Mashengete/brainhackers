



<!-- CART NAVBAR -->


  

<!-- CART CARD HERE -->
<ng-container *ngIf="products.length != 0">
    <div class="container mb-5">
        <div class="content">
            <a type="button" (click)="removeAllProduct()"><i class="" ></i>Remove All</a>
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-12 col-sm-12"  *ngFor="let item of products">
                    
                    <div class="card card-desc" style="margin-bottom: 12px;">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-3">
                                    <div class="images">
                                        <img src="{{item.image}}" height="100" width="80">
                                    </div>
                                </div>

                                <div class="col-5">
                                    <div class="item-name">
                                        <p class="card-category">{{item.prod_name}}</p>
                                    </div>

                                    
                                </div>

                                <div class="col-4">
                                    <div class="item-name">
                                        <p class="card-price">R{{item.prod_price}}</p>
                                    </div>

                                    <div class="item-name">
                                        <a class="remove" style="cursor: pointer;" (click)="removeProduct(item)"><i class="fa-solid fa-xmark"></i></a>
                                    </div>

                                    <div class="item-name">
                                        <p class="card-category"></p>
                                    </div>

                                    <div class="numbers">
                                        <div class="rows ">
                                            <div class="qt"><p class="card-title">Qty:</p></div>
                                            <div class="qtnum"><select class="form-control" >
                                                <option value="1" selected>1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="7">6</option>
                                                <option value="7">7</option>
                                                <option value="8">8</option>
                                                <option value="9">9</option>
                                                <option value="10">10</option>
                                                <option value="11">11</option>
                                                <option value="12">12</option>
                                                <option value="13">13</option>
                                                <option value="14">14</option>
                                                <option value="15">15</option>
                                            </select></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel">Shipping Address</h5>
                              <button type="button" class="close" data-dismiss="modal" data-dismiss="modal-backdrop fade in" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button >
                            </div>
                            <form [formGroup]="Form" (ngSubmit)="onSubmit()">
                              <div class="modal-body">
                                  <div class="form-group col mb-4">
                                      <label>Town</label>
                                      <input type="text" formControlName="address" placeholder="2 Orlando west" class="form-control" [ngClass]="{ 'is-invalid':submitted && f['address'].errors }"/>
                                      <div *ngIf="submitted && f['address'].errors" class="invalid-feedback">
                                          <div *ngIf="f['address'].errors['required']">Address is required</div>
                                      </div>
                                  </div>
                                  
                                  <div class="form-group col mb-4">
                                      <label>Area</label>
                                      <input type="text" formControlName="city" placeholder="Soweto" class="form-control" [ngClass]="{ 'is-invalid':submitted && f['city'].errors }"/>
                                      <div *ngIf="submitted && f['city'].errors" class="invalid-feedback">
                                          <div *ngIf="f['city'].errors['required']">Area is required</div>
                                      </div>
                                  </div>
                  
                                  <div class="row">
                                      <div class="form-group col-md-8 mb-4">
                                          <label>Town</label>
                                          <input type="text" formControlName="town" placeholder="Johanneburg" class="form-control" [ngClass]="{ 'is-invalid':submitted && f['town'].errors }"/>
                                          <div *ngIf="submitted && f['town'].errors" class="invalid-feedback">
                                              <div *ngIf="f['town'].errors['required']">Town is required</div>
                                          </div>
                                      </div>
                  
                                      <div class="form-group col-md-4 mb-4">
                                          <label>Postal Code</label>
                                          <input type="text" formControlName="zip" placeholder="0000" class="form-control" [ngClass]="{ 'is-invalid':submitted && f['zip'].errors }"/>
                                          <div *ngIf="submitted && f['zip'].errors" class="invalid-feedback">
                                              <div *ngIf="f['zip'].errors['required']">Postal code is required</div>
                                          </div>
                                      </div>
                                  </div>
                                <div>
                                    <div class="row">
                                        <div class="col-8"><p>AMOUNT:</p></div>
                                        <div class="col-4"><h5>R {{ totalDue | number:'3.1-2'}}</h5></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-8"><p>Shipping Cost : </p></div>
                                        <div class="col-4"><h5>R {{shipping | number:'3.1-2'}}</h5></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-8"><p>TOTAL DUE:</p></div>
                                        <div class="col-4"><h5>R {{ totalshipping | number:'3.1-2'}}</h5></div>
                                    </div>
                                </div>
                                
                              </div>
                              <div class="modal-footer">
                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                  <button type="submit" class="btn btn-primary" >Save changes</button>
                              </div>
                          </form>
                          </div>
                        </div>
                      </div>
                  
                </div>
            </div>

            
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="card total " style="margin-bottom: 12px;">
                        <div class="card-body ">
                            <h3>Order Information</h3>
                            <div class="row">
                                <div class="col-8"><h5>No. of items: </h5></div>
                                <div class="col-4"><h5>{{totalNumber}}</h5></div>
                            </div>
                            
                            <div class="row">
                                <div class="col-8"><p>AMOUNT DUE: </p></div>
                                <div class="col-4"><h5>R {{sum | number:'3.1-2'}}</h5></div>
                            </div>
                            <div class="row">
                                <div class="col-8"><p>VAT : </p></div>
                                <div class="col-4"><h5>R {{totTax | number:'3.1-2'}}</h5></div>
                            </div>
                            <div class="row">
                                <div class="col-8"><p>TOTAL AMOUNT:</p></div>
                                <div class="col-4"><h5>R {{ totalDue | number:'3.1-2'}}</h5></div>
                            </div>
                            <div class="row"><p>Vat amount calculated using 15%</p></div>
                            
                            <div class="buttons mb-4" style="margin-left:20px;">
                                <div>
                                    <button routerLink="/products" class="btn-continue-shopping">Continue shopping</button>
                                </div>
                                <div style="margin-left:20px;">
                                    <button data-toggle="modal" data-target="#exampleModal" type="button" class="btn-checkout">Check out</button>
                                </div>
                            </div> 
                        </div>
                    </div> 
                </div>
            </div>    
        </div>
    </div>
</ng-container>

<ng-container *ngIf="products.length == 0">
    <div class="container">
        <div class="card empty" >
            <h4 class="card-title">My Cart</h4>
        </div>

        <div class="center">
            <img src="https://media.istockphoto.com/vectors/purchase-flat-line-icon-outline-vector-symbol-illustration-pixel-vector-id1225349588?k=20&m=1225349588&s=612x612&w=0&h=NjO2s3jAZJ6sh3VybcPp-mGjo9SqTMkfY9i9iI1DKLc=" alt="">
            <h5>Your shopping cart is empty!</h5>
            <h6>Add items to it now</h6>
            <button routerLink="/products" routerLinkActive="router-link-active"  class="btn-shop">Shop Now</button>
        </div>
    </div>
</ng-container>

    
   